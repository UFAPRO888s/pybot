# -*- coding: utf-8 -*-
import json,traceback,requests,datetime,random,pytz


poster = ["https://huaynaka.com/wp-content/uploads/2021/10/probenner-huaynaka-new.webp","https://huaynaka.com/wp-content/uploads/2022/03/%E0%B8%AB%E0%B8%A7%E0%B8%A2%E0%B8%A5%E0%B8%B2%E0%B8%A7%E0%B9%81%E0%B8%9A%E0%B8%99%E0%B9%80%E0%B8%99%E0%B8%AD%E0%B8%A3%E0%B9%8C-1.jpg","https://huaynaka.com/wp-content/uploads/2023/01/banner-%E0%B8%AB%E0%B8%A7%E0%B8%A2%E0%B9%82%E0%B8%AE%E0%B8%88%E0%B8%B4%E0%B8%A1%E0%B8%B4%E0%B8%99%E0%B8%AB%E0%B9%8C.webp","https://huaynaka.com/wp-content/uploads/2023/01/banner-%E0%B8%AB%E0%B8%A7%E0%B8%A2%E0%B8%A5%E0%B8%B2%E0%B8%A7-1024x411.webp","https://huaynaka.com/wp-content/uploads/2023/01/banner-%E0%B8%99%E0%B8%B2%E0%B8%84%E0%B8%B2-1024x411.webp","https://huaynaka.com/wp-content/uploads/2023/01/banner-%E0%B8%AB%E0%B8%A7%E0%B8%A2%E0%B8%A5%E0%B8%B2%E0%B8%A7-1024x411.webp"]

#filtered_arr = [p for p in snapshot if p['THREE_UP'] != "-" and p['THREE_UP'] != 'undefined']
#TEMFLEXFLEXSTOCKFORE={"type": "bubble", "size": "kilo", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+random.choice(poster), "size": "full", "aspectRatio": "100:50", "aspectMode": "cover", "animated": True, "align": "center", "gravity": "center", "margin": "none"}], "spacing": "none", "margin": "none", "offsetStart": "0px", "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+filterA['img_fg'], "size": "full", "align": "center", "aspectRatio": "1:1", "aspectMode": "cover"}], "cornerRadius": "100px", "width": "50px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filterA['title_th'], "size": "lg", "wrap": True},{"type": "text", "text": filterA['announce_datetime_th'], "size": "xs", "weight": "bold", "color": "#DB2316cc"}]}], "spacing": "lg", "alignItems": "center"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "3ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": []},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filterA['THREE_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "xs"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filterA['TWO_DOWN'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวล่าง", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "1px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filterA['TWO_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"}], "margin": "lg", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaga.info/wp-content/uploads/2021/07/banner-naka-250364-allnew_optimized.jpg", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover"}], "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "2px"}], "paddingAll": "0px"}], "paddingAll": "0px", "margin": "lg"}], "background":{"type": "linearGradient", "angle": "120deg", "startColor": "#ECDF8C", "endColor": "#C3AA66", "centerColor": "#ECDF8C"}}, "styles":{"body":{"backgroundColor": "#EBDE8A"}}}
  
# def FLEXTIME(type):
#     FLEXALLRE = []
#     filtered_arr = [p for p in snapshot if p['sub_type'] == type and p['THREE_UP'] != "-"]
#     #print(filtered_arr[0])
#     TEMFLEXFLEXSTOCKFORE={"type": "bubble", "size": "kilo", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": random.choice(poster), "size": "full", "aspectRatio": "100:50", "aspectMode": "cover", "animated": True, "align": "center", "gravity": "center", "margin": "none"}], "spacing": "none", "margin": "none", "offsetStart": "0px", "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": filtered_arr[0]["img_fg"], "size": "full", "align": "center", "aspectRatio": "1:1", "aspectMode": "cover"}], "cornerRadius": "100px", "width": "50px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filtered_arr[0]["title_th"], "size": "lg", "wrap": True},{"type": "text", "text": filtered_arr[0]["announce_datetime_th"], "size": "xs", "weight": "bold", "color": "#DB2316cc"}]}], "spacing": "lg", "alignItems": "center"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "3ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": []},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filtered_arr[0]["THREE_UP"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "xs"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filtered_arr[0]["TWO_UP"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวล่าง", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "1px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filtered_arr[0]["TWO_DOWN"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"}], "margin": "lg", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaga.info/wp-content/uploads/2021/07/banner-naka-250364-allnew_optimized.jpg", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover"}], "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "2px"}], "paddingAll": "0px"}], "paddingAll": "0px", "margin": "lg"}], "background":{"type": "linearGradient", "angle": "120deg", "startColor": "#ECDF8C", "endColor": "#C3AA66", "centerColor": "#ECDF8C"}}, "styles":{"body":{"backgroundColor": "#EBDE8A"}}}
#     #print(TEMFLEXFLEXSTOCKFORE)
#     return TEMFLEXFLEXSTOCKFORE

# def FLEXREAV():
#     FLEXALLRE = []
#     filtered_arr = [p for p in snapshot if  p['THREE_UP'] != "-" and p['THREE_UP'] != 'undefined']
#     for filterA in filtered_arr:
#         TEMFLEXFLEXSTOCKFORE={"type": "bubble", "size": "kilo", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": random.choice(poster), "size": "full", "aspectRatio": "100:50", "aspectMode": "cover", "animated": True, "align": "center", "gravity": "center", "margin": "none"}], "spacing": "none", "margin": "none", "offsetStart": "0px", "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": filterA["img_fg"], "size": "full", "align": "center", "aspectRatio": "1:1", "aspectMode": "cover"}], "cornerRadius": "100px", "width": "50px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filterA["title_th"], "size": "lg", "wrap": True},{"type": "text", "text": filterA["announce_datetime_th"], "size": "xs", "weight": "bold", "color": "#DB2316cc"}]}], "spacing": "lg", "alignItems": "center"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "3ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": []},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filterA["THREE_UP"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "xs"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filterA["TWO_UP"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวล่าง", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "1px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": filterA["TWO_DOWN"], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"}], "margin": "lg", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaga.info/wp-content/uploads/2021/07/banner-naka-250364-allnew_optimized.jpg", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover"}], "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "2px"}], "paddingAll": "0px"}], "paddingAll": "0px", "margin": "lg"}], "background":{"type": "linearGradient", "angle": "120deg", "startColor": "#ECDF8C", "endColor": "#C3AA66", "centerColor": "#ECDF8C"}}, "styles":{"body":{"backgroundColor": "#EBDE8A"}}}
#         FLEXALLRE.append(TEMFLEXFLEXSTOCKFORE)
#     print(FLEXALLRE)
#     return FLEXALLRE

# FLEXREAV()
def lottoFlex(lottotype):
    response = requests.get('https://bet-balls-default-rtdb.asia-southeast1.firebasedatabase.app/nakalottolatest.json')
    filtered_arr = [p for p in response.json() if p['sub_type'] == lottotype and p['THREE_UP'] != "-" and p['sub_type'] != "LATTE_THAI"]
    FLEXTIMEX={"type": "bubble", "size": "mega", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+random.choice(poster), "size": "full", "aspectRatio": "100:50", "aspectMode": "cover", "animated": True, "align": "center", "gravity": "center", "margin": "none"}], "spacing": "none", "margin": "none", "offsetStart": "0px", "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+filtered_arr[0]['img_fg'], "size": "full", "align": "center", "aspectRatio": "1:1", "aspectMode": "cover"}], "cornerRadius": "100px", "width": "50px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arr[0]['title_th'], "size": "lg", "wrap": True},{"type": "text", "text": filtered_arr[0]['announce_datetime_th'], "size": "xs", "weight": "bold", "color": "#DB2316cc"}]}], "spacing": "lg", "alignItems": "center"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "3ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": []},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arr[0]['THREE_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "xs"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arr[0]['TWO_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวล่าง", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "1px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arr[0]['TWO_DOWN'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"}], "margin": "lg", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaga.info/wp-content/uploads/2021/07/banner-naka-250364-allnew_optimized.jpg", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover","action": {"type": "uri","label": "huaynaka","uri": "https://tang.huaynaka.com/agent/r39lPewF"}}], "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "2px"}], "paddingAll": "0px"}], "paddingAll": "0px", "margin": "lg"}], "background":{"type": "linearGradient", "angle": "120deg", "startColor": "#ECDF8C", "endColor": "#C3AA66", "centerColor": "#ECDF8C"}}, "styles":{"body":{"backgroundColor": "#EBDE8A"}}}
    #print(FLEXTIMEX)
    return FLEXTIMEX
    
def lottoFlexAll():
    FLEXTI = []
    response = requests.get('https://bet-balls-default-rtdb.asia-southeast1.firebasedatabase.app/nakalottolatest.json')
    filtered_arr = [p for p in response.json() if p['THREE_UP'] != "-" and p['THREE_UP'] != "undefined" and p['sub_type'] != "LATTE_THAI"]
    for filtered_arrX in filtered_arr[0:10]:
        #print(filtered_arrX)
        FLEXTIMEXW={"type": "bubble", "size": "mega", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+random.choice(poster), "size": "full", "aspectRatio": "100:50", "aspectMode": "cover", "animated": True, "align": "center", "gravity": "center", "margin": "none"}], "spacing": "none", "margin": "none", "offsetStart": "0px", "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": ""+filtered_arrX['img_fg'], "size": "full", "align": "center", "aspectRatio": "1:1", "aspectMode": "cover"}], "cornerRadius": "100px", "width": "50px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arrX['title_th'], "size": "lg", "wrap": True},{"type": "text", "text": filtered_arrX['announce_datetime_th'], "size": "xs", "weight": "bold", "color": "#DB2316cc"}]}], "spacing": "lg", "alignItems": "center"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "3ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": []},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arrX['THREE_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "xs"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวบน", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderWidth": "1px", "borderColor": "#BD9B51"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arrX['TWO_UP'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "2ตัวล่าง", "size": "xs", "align": "center", "weight": "bold", "color": "#FFFFFF"}], "backgroundColor": "#A07C00", "paddingAll": "2px", "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "1px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+filtered_arrX['TWO_DOWN'], "align": "center", "weight": "bold", "size": "3xl", "gravity": "center"}], "height": "50px", "backgroundColor": "#FFFFFFcc", "cornerRadius": "5px", "justifyContent": "center", "borderWidth": "1px", "borderColor": "#BD9B51"}], "spacing": "sm"}], "margin": "lg", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaga.info/wp-content/uploads/2021/07/banner-naka-250364-allnew_optimized.jpg", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover","action": {"type": "uri","label": "huaynaka","uri": "https://tang.huaynaka.com/agent/r39lPewF"}}], "cornerRadius": "5px", "borderColor": "#BD9B51", "borderWidth": "2px"}], "paddingAll": "0px"}], "paddingAll": "0px", "margin": "lg"}], "background":{"type": "linearGradient", "angle": "120deg", "startColor": "#ECDF8C", "endColor": "#C3AA66", "centerColor": "#ECDF8C"}}, "styles":{"body":{"backgroundColor": "#EBDE8A"}}}
        FLEXTI.append(FLEXTIMEXW)
    
    return {"type": "carousel", "contents": FLEXTI}


def glotto():
    responseXX = requests.get('https://bet-balls-default-rtdb.asia-southeast1.firebasedatabase.app/nakalottolatest.json')
    responseX = [p for p in responseXX.json() if p['THREE_UP'] != "-" and p['THREE_UP'] != "undefined" and p['sub_type'] == "LATTE_THAI"]
    FLEXGLOTTO={"type": "bubble", "size": "giga", "header":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaka.com/wp-content/uploads/2021/10/probenner-huaynaka-new.webp", "size": "full", "aspectRatio": "100:50", "aspectMode": "cover"}], "paddingAll": "0px"}, "body":{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "ผลหวยรัฐบาล ประจำวันที่", "size": "sm", "align": "center", "weight": "bold"},{"type": "text", "text": ""+responseX[0]['announce_datetime_th'], "align": "center", "size": "lg", "weight": "bold"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['THREE_UP'], "align": "center", "size": "4xl", "weight": "bold"},{"type": "text", "text": "รางวัลที่ 1", "size": "sm", "weight": "bold", "align": "center"}], "backgroundColor": "#FFFFCA", "flex": 2, "cornerRadius": "10px", "spacing": "0px", "borderColor": "#A48000", "borderWidth": "2px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['THREE_PRE_Z'], "align": "center", "size": "4xl", "weight": "bold"},{"type": "text", "text": "เลขท้าย2ตัว", "size": "sm", "weight": "bold", "align": "center"}], "flex": 1, "backgroundColor": "#FFFFCA", "cornerRadius": "10px", "spacing": "0px", "borderColor": "#A48000", "borderWidth": "2px"}], "paddingStart": "30px", "paddingEnd": "30px", "spacing": "md"}], "margin": "md", "spacing": "sm"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "แทงหวย เว็บหวย นาคา หวยออนไลน์ อัตราจ่ายสูงที่สุด", "align": "center", "size": "xs"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['TWO_UP'], "weight": "bold", "align": "center", "size": "xxl"}], "backgroundColor": "#FFFFCA", "cornerRadius": "5px", "borderWidth": "2px", "borderColor": "#A48000"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['TWO_DOWN'], "align": "center", "weight": "bold", "size": "xxl"}], "backgroundColor": "#FFFFCA", "cornerRadius": "5px", "borderColor": "#A48000", "borderWidth": "2px"}], "spacing": "md"},{"type": "text", "text": "3ตัวหน้า", "size": "sm", "weight": "bold", "align": "center"}], "spacing": "md"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['THREE_PRE_X'], "weight": "bold", "align": "center", "size": "xxl"}], "backgroundColor": "#FFFFCA", "cornerRadius": "5px", "borderColor": "#A48000", "borderWidth": "2px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseX[0]['THREE_PRE_Y'], "align": "center", "weight": "bold", "size": "xxl"}], "backgroundColor": "#FFFFCA", "cornerRadius": "5px", "borderColor": "#A48000", "borderWidth": "2px"}], "spacing": "md"},{"type": "text", "text": "3ตัวหลัง", "size": "sm", "weight": "bold", "align": "center"}], "spacing": "md"}], "paddingStart": "30px", "paddingEnd": "30px", "spacing": "md"}], "margin": "lg", "paddingTop": "10px", "paddingBottom": "10px"},{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://huaynaka.com/wp-content/uploads/2021/08/sub-banner-%E0%B8%AB%E0%B8%A7%E0%B8%A2%E0%B8%99%E0%B8%B2%E0%B8%84%E0%B8%B2.webp", "size": "full", "aspectRatio": "100:40", "aspectMode": "cover"}], "paddingTop": "10px"}], "paddingAll": "0px", "background":{"type": "linearGradient", "angle": "140deg", "startColor": "#DDC876", "endColor": "#FCF8A3"}}}
    return FLEXGLOTTO


def lottocheck(cvd):
    resXX = requests.get('https://lotto.api.rayriffy.com/latest').json()
    for rxs in resXX['response']['prizes']:
        filtered_arr = [p for p in rxs['number'] if p == cvd]
        for filtered in filtered_arr:
            return [rxs['name'],filtered]


def lotest():
    responseXX = requests.get('https://bet-balls-default-rtdb.asia-southeast1.firebasedatabase.app/nakalottolatest/0.json').json()
    #responseX = [p for p in responseXX.json() if p['THREE_UP'] != "-" and p['THREE_UP'] != "undefined" and p['sub_type'] == "LATTE_THAI"]
    FLEXGTTO={"type": "carousel", "contents": [{"type": "bubble", "body":{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://i.imgur.com/JidEhZp.png", "size": "full", "aspectMode": "cover", "aspectRatio": "100:105", "gravity": "top"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseXX['THREE_UP'], "size": "3xl", "weight": "bold"}], "paddingStart": "20px", "paddingTop": "10px"},{"type": "box", "layout": "horizontal", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseXX['TWO_DOWN'], "size": "xxl", "weight": "bold", "color": "#FFFFFF"},{"type": "text", "text": ""+responseXX['TWO_UP'], "size": "xxl", "weight": "bold"}], "paddingStart": "15px", "flex": 0},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseXX['THREE_PRE_X'], "size": "xxl", "weight": "bold", "color": "#FFFFFF"},{"type": "text", "text": ""+responseXX['THREE_PRE_Y'], "size": "xxl", "weight": "bold"}], "flex": 0, "paddingStart": "45px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": ""+responseXX['THREE_PRE_Z'], "size": "4xl", "weight": "bold", "flex": 0}], "flex": 0, "paddingStart": "35px", "paddingTop": "10px"}], "paddingTop": "3px"}], "position": "absolute", "offsetBottom": "0px", "offsetStart": "0px", "offsetEnd": "0px", "paddingStart": "20px", "paddingEnd": "20px", "offsetTop": "160px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "วันอังคารที่ 16 พฤษภาคม 2566", "color": "#ffffff", "align": "center", "size": "xs", "offsetTop": "3px", "weight": "bold"}], "position": "absolute", "cornerRadius": "5px", "offsetTop": "100px", "backgroundColor": "#ff334b", "offsetStart": "20px", "height": "25px", "paddingStart": "5px", "paddingEnd": "5px"}], "paddingAll": "0px"}, "size": "mega"}]}
    return FLEXGTTO

def menuflex(DataSet,Label):
    meflex={"type": "bubble", "size": "kilo", "body":{"type": "box", "layout": "vertical", "backgroundColor": "#000000", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "image", "url": "https://portal.huaynakaraj.com/img/nkr-full.c195e784.png", "aspectRatio": "1:1", "aspectMode": "cover",}], "cornerRadius": "0px"}], "alignItems": "center", "paddingTop": "20px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": "เว็บหวย นาคราช", "color": "#FFC300", "weight": "bold", "align": "center"},{"type": "text", "text": "เว็บหวยที่อัตราจ่ายราคาดีที่สุด", "color": "#FFC300cc", "align": "center", "size": "xxs"}], "paddingAll": "10px"},{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": Label.upper(), "color": "#FFC300", "weight": "bold", "size": "xxs"}], "position": "absolute", "borderWidth": "1px", "borderColor": "#ffffffcc", "paddingStart": "8px", "paddingEnd": "8px", "paddingTop": "5px", "paddingBottom": "5px", "offsetTop": "10px", "offsetStart": "10px", "cornerRadius": "20px"},{"type": "box", "layout": "vertical", "contents": [{"type": "box", "layout": "vertical", "contents": [{"type": "text", "text": DataSet, "color": "#FFC300", "size": "md", "wrap":True, "align": "center",}], "paddingAll": "20px", "backgroundColor": "#111111"}], "paddingAll": "20px", "paddingTop": "5px"}], "paddingAll": "0px"}, "styles":{"body":{"backgroundColor": "#161e2b"}}}
    return meflex
